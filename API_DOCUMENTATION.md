# API-документация

## Общие сведения

Все запросы возвращают JSON-ответы. В случае успеха возвращается соответствующий объект или массив объектов. В случае ошибки возвращается объект с сообщением об ошибке.

Базовый URL API: `/api`

## Поездки (Trips)

### Получить все поездки

* **URL**: `/api/trip`
* **Метод**: `GET`
* **Ответ**: 
  * **Успех**: `200 OK` + список поездок
  * **Ошибка**: `500 Internal Server Error` + сообщение об ошибке

### Получить поездку по ID

* **URL**: `/api/trip/:id`
* **Метод**: `GET`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + объект поездки
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - поездка не найдена
    * `500 Internal Server Error` - ошибка сервера

### Получить поездки пользователя

* **URL**: `/api/trip/user/:userId`
* **Метод**: `GET`
* **Параметры URL**: 
  * `userId` - ID пользователя (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + список поездок пользователя
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера

### Создать поездку

* **URL**: `/api/trip`
* **Метод**: `POST`
* **Тело запроса**: 
  ```json
  {
    "USER_ID": 1,
    "NAME": "Поездка в Москву"
  }
  ```
* **Ответ**: 
  * **Успех**: `201 Created` + созданный объект поездки с ID
  * **Ошибка**: 
    * `400 Bad Request` - не все обязательные поля заполнены
    * `500 Internal Server Error` - ошибка сервера

### Обновить поездку

* **URL**: `/api/trip/:id`
* **Метод**: `PUT`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
* **Тело запроса**: 
  ```json
  {
    "USER_ID": 1,
    "NAME": "Новое название поездки"
  }
  ```
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном обновлении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID или не все обязательные поля заполнены
    * `404 Not Found` - поездка не найдена
    * `500 Internal Server Error` - ошибка сервера

### Удалить поездку

* **URL**: `/api/trip/:id`
* **Метод**: `DELETE`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном удалении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - поездка не найдена
    * `500 Internal Server Error` - ошибка сервера

### Добавить пользователя в поездку

* **URL**: `/api/trip/:id/user/:userId`
* **Метод**: `POST`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
  * `userId` - ID пользователя (обязательно)
* **Ответ**: 
  * **Успех**: `201 Created` + созданный объект связи
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - поездка не найдена
    * `500 Internal Server Error` - ошибка сервера

### Удалить пользователя из поездки

* **URL**: `/api/trip/:id/user/:userId`
* **Метод**: `DELETE`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
  * `userId` - ID пользователя (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном удалении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - пользователь не найден в поездке
    * `500 Internal Server Error` - ошибка сервера

### Получить пользователей поездки

* **URL**: `/api/trip/:id/users`
* **Метод**: `GET`
* **Параметры URL**: 
  * `id` - ID поездки (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + список ID пользователей
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - поездка не найдена
    * `500 Internal Server Error` - ошибка сервера

## Чеки (Checks)

### Получить все чеки

* **URL**: `/api/check`
* **Метод**: `GET`
* **Ответ**: 
  * **Успех**: `200 OK` + список чеков
  * **Ошибка**: `500 Internal Server Error` + сообщение об ошибке

### Получить чек по ID

* **URL**: `/api/check/:id`
* **Метод**: `GET`
* **Параметры URL**: 
  * `id` - ID чека (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + объект чека
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - чек не найден
    * `500 Internal Server Error` - ошибка сервера

### Получить чеки поездки

* **URL**: `/api/check/trip/:tripId`
* **Метод**: `GET`
* **Параметры URL**: 
  * `tripId` - ID поездки (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + список чеков поездки
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера

### Получить чеки пользователя

* **URL**: `/api/check/user/:userId`
* **Метод**: `GET`
* **Параметры URL**: 
  * `userId` - ID пользователя (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + список чеков пользователя
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера

### Создать чек

* **URL**: `/api/check`
* **Метод**: `POST`
* **Тело запроса**: 
  ```json
  {
    "TRIP_ID": 1,
    "USER_ID": 1,
    "CHECK_SUM": 1500.50
  }
  ```
* **Ответ**: 
  * **Успех**: `201 Created` + созданный объект чека с ID
  * **Ошибка**: 
    * `400 Bad Request` - не все обязательные поля заполнены
    * `500 Internal Server Error` - ошибка сервера

### Обновить чек

* **URL**: `/api/check/:id`
* **Метод**: `PUT`
* **Параметры URL**: 
  * `id` - ID чека (обязательно)
* **Тело запроса**: 
  ```json
  {
    "TRIP_ID": 1,
    "USER_ID": 1,
    "CHECK_SUM": 2000.75
  }
  ```
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном обновлении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID или не все обязательные поля заполнены
    * `404 Not Found` - чек не найден
    * `500 Internal Server Error` - ошибка сервера

### Удалить чек

* **URL**: `/api/check/:id`
* **Метод**: `DELETE`
* **Параметры URL**: 
  * `id` - ID чека (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном удалении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - чек не найден
    * `500 Internal Server Error` - ошибка сервера

### Получить общую сумму чеков по поездке

* **URL**: `/api/check/trip/:tripId/total`
* **Метод**: `GET`
* **Параметры URL**: 
  * `tripId` - ID поездки (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + объект с общей суммой
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера

## Товары (Goods)

### Получить все товары

* **URL**: `/api/good`
* **Метод**: `GET`
* **Ответ**: 
  * **Успех**: `200 OK` + список товаров
  * **Ошибка**: `500 Internal Server Error` + сообщение об ошибке

### Получить товар по ID

* **URL**: `/api/good/:id`
* **Метод**: `GET`
* **Параметры URL**: 
  * `id` - ID товара (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + объект товара
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - товар не найден
    * `500 Internal Server Error` - ошибка сервера

### Получить товары чека

* **URL**: `/api/good/check/:checkId`
* **Метод**: `GET`
* **Параметры URL**: 
  * `checkId` - ID чека (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + список товаров чека
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера

### Создать товар

* **URL**: `/api/good`
* **Метод**: `POST`
* **Тело запроса**: 
  ```json
  {
    "CHECK_ID": 1,
    "NAME": "Молоко",
    "PRICE": 80.50,
    "QUANTITY": 2
  }
  ```
* **Ответ**: 
  * **Успех**: `201 Created` + созданный объект товара с ID
  * **Ошибка**: 
    * `400 Bad Request` - не все обязательные поля заполнены
    * `500 Internal Server Error` - ошибка сервера

### Массовое создание товаров

* **URL**: `/api/good/bulk`
* **Метод**: `POST`
* **Тело запроса**: 
  ```json
  [
    {
      "CHECK_ID": 1,
      "NAME": "Хлеб",
      "PRICE": 40.00,
      "QUANTITY": 1
    },
    {
      "CHECK_ID": 1,
      "NAME": "Сыр",
      "PRICE": 250.00,
      "QUANTITY": 0.5
    }
  ]
  ```
* **Ответ**: 
  * **Успех**: `201 Created` + массив созданных объектов товаров с ID
  * **Ошибка**: 
    * `400 Bad Request` - не передан массив или не все обязательные поля заполнены
    * `500 Internal Server Error` - ошибка сервера

### Обновить товар

* **URL**: `/api/good/:id`
* **Метод**: `PUT`
* **Параметры URL**: 
  * `id` - ID товара (обязательно)
* **Тело запроса**: 
  ```json
  {
    "CHECK_ID": 1,
    "NAME": "Молоко (обновлено)",
    "PRICE": 85.00,
    "QUANTITY": 1
  }
  ```
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном обновлении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID или не все обязательные поля заполнены
    * `404 Not Found` - товар не найден
    * `500 Internal Server Error` - ошибка сервера

### Удалить товар

* **URL**: `/api/good/:id`
* **Метод**: `DELETE`
* **Параметры URL**: 
  * `id` - ID товара (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + сообщение об успешном удалении
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `404 Not Found` - товар не найден
    * `500 Internal Server Error` - ошибка сервера

### Получить общую стоимость товаров в чеке

* **URL**: `/api/good/check/:checkId/total`
* **Метод**: `GET`
* **Параметры URL**: 
  * `checkId` - ID чека (обязательно)
* **Ответ**: 
  * **Успех**: `200 OK` + объект с общей стоимостью
  * **Ошибка**: 
    * `400 Bad Request` - неверный формат ID
    * `500 Internal Server Error` - ошибка сервера 